# üéØ QuestGuideRF - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≠–∫—Å–∫—É—Ä—Å–æ–≤–æ–¥ + –í–µ–±-—Å–∞–π—Ç

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤: Telegram-–±–æ—Ç –≤–µ–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –º–∞—Ä—à—Ä—É—Ç—É, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ç–æ –∏ –≤—ã–¥–∞—ë—Ç —Ñ–∞–∫—Ç—ã; –≤–µ–±-—Å–∞–π—Ç ‚Äî –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π; –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –µ–¥–∏–Ω–æ–π –ë–î MySQL –∏ –æ–±—â–µ–π –ø–∞–ø–∫–æ–π –∑–∞–≥—Ä—É–∑–æ–∫.

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#-–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–æ–±—â–∞—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–Ω–∞-regru)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞](#-–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–∞)
- [API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#-api-–∏-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- [–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [FAQ](#-faq)

---

## üß© –û –ø—Ä–æ–µ–∫—Ç–µ


| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                            |
| ---------------- | ---------------------------------------- | --------------------------------------------------------------------- |
| **Telegram –±–æ—Ç** | Python 3.8+, aiogram 3.4, SQLAlchemy 2.0 | –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤, –æ–ø–ª–∞—Ç–∞, –ø–æ–¥—Å–∫–∞–∑–∫–∏, –æ—Ç–∑—ã–≤—ã, –±–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤          |
| **–í–µ–±-—Å–∞–π—Ç**     | PHP 7.4+, MySQL, Vanilla JS              | –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –º–∞—Ä—à—Ä—É—Ç—ã, –æ—Ç–∑—ã–≤—ã, —Ä–µ–π—Ç–∏–Ω–≥–∏, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã               |
| **–í–µ–±-–∞–¥–º–∏–Ω–∫–∞**  | PHP, Bootstrap 5, Chart.js               | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏, –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, —Ç–æ—á–∫–∞–º–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| **–ë–î**           | MySQL 8.0                                | –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –±–æ—Ç–∞ –∏ —Å–∞–π—Ç–∞                                          |
| **–§–∞–π–ª—ã**        | `uploads/`, `photos/`                    | –û–±—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–æ—Ç–æ, –∞–≤–∞—Ç–∞—Ä–æ–≤, —ç—Ç–∞–ª–æ–Ω–æ–≤, –ø–æ–¥—Å–∫–∞–∑–æ–∫, –∞—É–¥–∏–æ            |


**–ö–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–π—Ç–µ –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–æ—Ç —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–æ–º (`?start=route_{id}`).
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –≥—Ä–æ—à–µ–π –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª –∏ ¬´–ù–∞–∑–∞–¥¬ª; –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–∞, —Ä–∞–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞.
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ—Ç–∑—ã–≤–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4.5/5).
- –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ ¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤¬ª –∏ ¬´–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª.
- **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã:** –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—à—ë–ª –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ –∏ **–∫—É–ø–∏–ª –∫–≤–µ—Å—Ç**, –≤–ª–∞–¥–µ–ª—å—Ü—É —Å—Å—ã–ª–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –±–æ–Ω—É—Å (–≥—Ä–æ—à–∏). –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –∑–∞ —Ç–æ–∫–µ–Ω—ã (–±–∞–Ω–∫ –∏–ª–∏ –æ–ø–ª–∞—Ç–∞); –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≥–æ –∂–µ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.

---

=======

# üéØ QuestGuideRF - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≠–∫—Å–∫—É—Ä—Å–æ–≤–æ–¥ + –í–µ–±-—Å–∞–π—Ç

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤:

- **Telegram –±–æ—Ç** (Python 3.8+) - –≤–µ–¥–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –º–∞—Ä—à—Ä—É—Ç—É, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ç–æ, –≤—ã–¥–∞–µ—Ç —Ñ–∞–∫—Ç—ã
- **–í–µ–±-—Å–∞–π—Ç** (PHP 7.4+) - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- **–ï–¥–∏–Ω–∞—è –ë–î MySQL** - –æ–¥–Ω–∞ –±–∞–∑–∞ –¥–ª—è –±–æ—Ç–∞ –∏ —Å–∞–π—Ç–∞

**–ï–¥–∏–Ω–∞—è –ø–∞–ø–∫–∞ uploads/** - –æ–±—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–æ—Ç–æ

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Telegram –ë–æ—Ç

- üó∫Ô∏è –ö–≤–µ—Å—Ç-—ç–∫—Å–∫—É—Ä—Å–∏–∏ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- # üì∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ (–º–∞—à–∏–Ω–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ: YOLOv8 ONNX ‚Äî –Ω–∞–ª–∏—á–∏–µ —á–µ–ª–æ–≤–µ–∫–∞, CLIP ‚Äî –ª–æ–∫–∞—Ü–∏—è)

üì∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ (–º–∞—à–∏–Ω–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ: CLIP –¥–ª—è –ª–æ–∫–∞—Ü–∏–∏, MoveNet + YOLO ONNX –¥–ª—è –ø–æ–∑ –∏ –ª—é–¥–µ–π)

- üí∞ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Telegram Payments (–ÆKassa) –∏ Telegram Stars; –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ–∫—É–ø–∞—é—Ç—Å—è –∑–∞ —Ç–æ–∫–µ–Ω—ã
- üè¶ **–ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤** ‚Äî –∫–æ–º–∞–Ω–¥–∞ `/token`: –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–ÆKassa, Telegram Stars), –ø–µ—Ä–µ–≤–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–æ–∫—É–ø–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π –∑–∞ —Ç–æ–∫–µ–Ω—ã, –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- üé´ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤** - –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —Å–∫–∏–¥–∫–∏, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–∏–¥–∫–∏, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º
- üèÜ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (10 –≥–æ—Ç–æ–≤—ã—Ö)
- üîê –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –±–æ—Ç–µ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏, –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, —Ç–æ—á–∫–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏)
- üõ°Ô∏è –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ –∑–∞—â–∏—Ç–∞
- üåê **–ö–æ–º–∞–Ω–¥–∞ `/web`** - –≤—Ö–æ–¥ –Ω–∞ —Å–∞–π—Ç —á–µ—Ä–µ–∑ Telegram Web App (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram) –∏–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- üîç **–ì–∏–±–∫–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ò–õ–ò —Ä—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–º–µ–Ω—é)
- üí° **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫** - 3 —É—Ä–æ–≤–Ω—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–ª–µ–≥–∫–∞—è, —Å—Ä–µ–¥–Ω—è—è, –¥–µ—Ç–∞–ª—å–Ω–∞—è) —Å –º–∏–Ω–∏-–∫–∞—Ä—Ç–∞–º–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä—è–º–æ –≤ –º–µ–Ω—é –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞
- üè∑Ô∏è **–°–∏—Å—Ç–µ–º–∞ —Ç–µ–≥–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** - –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ —Ç–µ–º–∞–º, –≤–æ–∑—Ä–∞—Å—Ç—É, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–µ–∑–æ–Ω—É (30 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤)
- üéß **–ê—É–¥–∏–æ–≥–∏–¥** - –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Ç–æ—á–µ–∫ —á–µ—Ä–µ–∑ Edge TTS (–∂–∏–≤–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–π –≥–æ–ª–æ—Å), —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏
- üö´ **–°–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –±—ã—Å—Ç—Ä–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (1 —á–∞—Å, 1 –¥–µ–Ω—å, 1 –º–µ—Å—è—Ü, 1 –≥–æ–¥, –Ω–∞–≤—Å–µ–≥–¥–∞) –ø—Ä—è–º–æ –∏–∑ –±–æ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã
- üåç **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤, –≤—ã–±–æ—Ä –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã
<<<<<<< HEAD
- ‚≠ê **–°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã (1‚Äì5 –∑–≤—ë–∑–¥) –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã, –∫–æ–º–∞–Ω–¥–∞ `/review`; –∑–∞ –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –æ—Ç–∑—ã–≤ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –≥—Ä–æ—à–∏ (—Å—É–º–º–∞ –∏ –≤–∫–ª/–≤—ã–∫–ª ‚Äî –≤ –∞–¥–º–∏–Ω–∫–µ)
- ‚è∏Ô∏è **–ü–∞—É–∑–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞** ‚Äî –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–≤–µ—Å—Ç –Ω–∞ –ø–∞—É–∑—É; –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Ç–æ–π –∂–µ —Ç–æ—á–∫–∏
- üìà **–ö–æ–º–∞–Ω–¥–∞ /top** ‚Äî —Ç–æ–ø-10 –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π —Å–æ —Å—Ä–µ–¥–Ω–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
- # üß© **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è** ‚Äî –∑–∞–≥–∞–¥–∫–∏ –∏ –≤–æ–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–æ, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —É—á–µ—Ç–æ–º –æ–ø–µ—á–∞—Ç–æ–∫ (fuzzy matching)
- ‚≠ê **–°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã (1-5 –∑–≤–µ–∑–¥) –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã, –∫–æ–º–∞–Ω–¥–∞ `/review`
- üìà **–ö–æ–º–∞–Ω–¥–∞ /top** - —Ç–æ–ø-10 –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π —Å —Å—Ä–µ–¥–Ω–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
- üß© **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è** - –∑–∞–≥–∞–¥–∫–∏ –∏ –≤–æ–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–æ, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —É—á–µ—Ç–æ–º –æ–ø–µ—á–∞—Ç–æ–∫ (fuzzy matching)
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- üñºÔ∏è **–£–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ç–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ (—è—Ä–∫–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–∞—Å—Ç, —Ä–µ–∑–∫–æ—Å—Ç—å, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å)
- üì∑ **–§–æ—Ç–æ –≤ –ø–æ–¥—Å–∫–∞–∑–∫–∞—Ö** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (—Ñ–æ—Ç–æ) –∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –¥–ª—è –ª—É—á—à–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- üéì **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ PDF —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–∞—Ö
- üì± **–ì–∏–±–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª, –≤–∫–ª—é—á–∞–µ—Ç—Å—è/–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–º–µ–Ω—é, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚öôÔ∏è **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å –≤—ã–±–æ—Ä–æ–º —è–∑—ã–∫–∞, –∞—É–¥–∏–æ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º–æ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏, —Ä–µ–∂–∏–º –º–æ–¥–µ—Ä–∞—Ü–∏–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
<<<<<<< HEAD
- üí≥ **–ö–æ–º–∞–Ω–¥–∞ /promo** ‚Äî –º–µ–Ω—é –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤: –≤–≤–µ—Å—Ç–∏ –∫–æ–¥ –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å ¬´–ú–æ–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏¬ª; –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞ ¬´–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç¬ª —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª –±–µ–∑ –æ–ø–ª–∞—Ç—ã (—Å–º. —Ä–∞–∑–¥–µ–ª –ø—Ä–æ –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∏–∂–µ)
- üìã **–ö–æ–º–∞–Ω–¥–∞ /commands** (–∏ /comand) - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –∫–Ω–æ–ø–∫–∞–º–∏ (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –±–∞–Ω–∫, –ø—Ä–æ–º–æ–∫–æ–¥, —Ç–æ–ø, –æ—Ç–∑—ã–≤, –ø–∞—Ä—Ç–Ω–µ—Ä–∫–∞, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, —Å—Ç–∞—Ç—å —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏). –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ü—Ä–æ–º–æ–∫–æ–¥¬ª –∏–∑ —ç—Ç–æ–≥–æ –º–µ–Ω—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ InlineKeyboardMarkup (–∫–Ω–æ–ø–∫–∞ ¬´–û—Ç–º–µ–Ω–∞¬ª), —Ç.–∫. editMessageText –≤ Telegram API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- ü§ù **–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞)** ‚Äî –∫–æ–º–∞–Ω–¥–∞ `/partner` –∏ –∫–Ω–æ–ø–∫–∞ ¬´–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞¬ª –≤ –º–µ–Ω—é: —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ—è —Å—Å—ã–ª–∫–∞ `t.me/–ë–æ—Ç?start=ref_XXX`. **–ó–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –∫—É–ø–∏–ª –∫–≤–µ—Å—Ç –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ, –≤–ª–∞–¥–µ–ª—å—Ü—É —Å—Å—ã–ª–∫–∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –±–æ–Ω—É—Å** (–æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –ø–µ—Ä–≤–æ–≥–æ –∫—É–ø–∏–≤—à–µ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ; —Å—É–º–º–∞ –∏ —É—Ä–æ–≤–Ω–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ). –ß–µ—Ç—ã—Ä–µ —É—Ä–æ–≤–Ω—è –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∏: ¬´–ù–∞—á–∞–ª–æ –ø—É—Ç–∏¬ª (3 –¥—Ä—É–≥–∞ ‚Äî –≥—Ä–æ—à–∏ –∑–∞ –∫–∞–∂–¥–æ–≥–æ), ¬´–ê–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫¬ª (10 ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ —Å–∫–∏–¥–∫—É), ¬´–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–Ω–∞—Ç¬ª (30 ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–≤–µ—Å—Ç), ¬´–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä¬ª (100 ‚Äî —Å—Ç–∞—Ç—É—Å –∏ —ç–∫—Å–∫—É—Ä—Å–∏—è). –í —ç–∫—Ä–∞–Ω–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∏ ‚Äî —Å—Å—ã–ª–∫–∞, –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–≤–Ω—è–º –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
- ‚ú® **–ö–æ–º–∞–Ω–¥–∞ /become_creator** - –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–æ–ª—å —Å–æ–∑–¥–∞—Ç–µ–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞)
- üìù **–ö–≤–∏–∑ –ø–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞** ‚Äî 5‚Äì10 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º—É –º–∞—Ç–µ—Ä–∏–∞–ª—É —Å –Ω–∞–≥—Ä–∞–¥–æ–π –≥—Ä–æ—à–∞–º–∏ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã; –≤–æ–ø—Ä–æ—Å—ã —Å–æ–∑–¥–∞—ë—Ç –∞–¥–º–∏–Ω
- üìã **–û–ø—Ä–æ—Å –ø–æ—Å–ª–µ –∫–≤–∏–∑–∞** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ–± —ç–º–æ—Ü–∏—è—Ö –∏ –∫–∞—á–µ—Å—Ç–≤–µ, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞
- üéÅ **–ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è** ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–≤–µ—Å—Ç–∞ —Å –Ω–∞–≥—Ä–∞–¥–æ–π –≥—Ä–æ—à–∞–º–∏, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- üí∞ **–õ–∏–º–∏—Ç –∑–∞—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –º–∞–∫—Å–∏–º—É–º –≥—Ä–æ—à–µ–π –∑–∞ –æ–¥–Ω–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
- üîÑ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –º–µ–Ω—é: –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º / –∫–≤–µ—Å—Ç-—Ä–µ–∂–∏–º, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
- üîß **–ö–æ–º–∞–Ω–¥–∞ /restart_point** ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
- # üõ°Ô∏è **–§–∏–∫—Å –¥–≤–æ–π–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏** ‚Äî –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª –∏—Å—á–µ–∑–∞—é—Ç –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–≤–æ–≥–æ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
- üí≥ **–ö–æ–º–∞–Ω–¥–∞ /promo** - –≤–≤–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

### –í–µ–±-—Å–∞–π—Ç

- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram** - Telegram Web App (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ initData) –∏–ª–∏ —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã –æ—Ç `/web`
- üì± **Telegram Web App** - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º Telegram
- üìä Dashboard —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- üó∫Ô∏è –ò—Å—Ç–æ—Ä–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–π
- üì∏ –ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- üè¶ –ë–∞–Ω–∫ ‚Äî –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤, –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –ø–æ–∫—É–ø–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üèÜ –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
<<<<<<< HEAD
- üìñ **PDF-–∞–ª—å–±–æ–º** ‚Äî –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ¬´–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã¬ª –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å –∞–ª—å–±–æ–º¬ª: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å —Ñ–æ—Ç–æ —Ç–æ—á–µ–∫, –æ–±–ª–æ–∂–∫–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º –ø–æ —à–∞–±–ª–æ–Ω—É –º–∞—Ä—à—Ä—É—Ç–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ)
- üë§ **–ü—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/username` (profile.php): —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã; –≤–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è –≤–∫–ª—é—á–∞–µ—Ç—Å—è/–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- # üîí **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è** ‚Äî –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç –ø–æ–∏—Å–∫–∞ –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π; –≤ –æ—Ç–∑—ã–≤–∞—Ö –∏–º—è —Ä–µ—Ü–µ–Ω–∑–µ–Ω—Ç–∞ —Å–∫—Ä—ã—Ç–æ, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –∑–∞–∫—Ä—ã—Ç –ø—Ä–æ—Ñ–∏–ª—å
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- üåì –°–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
- üì± Mobile-first –¥–∏–∑–∞–π–Ω
- üì∑ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
- ü§ñ SEO: robots.txt, sitemap.xml
- üìÑ –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫ (404, 403, 500)

### üåê –í–µ–±-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

- üìä **–î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π** - –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π, –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π, –≤—ã—Ä—É—á–∫–∏ (Chart.js)
- üó∫Ô∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —ç–∫—Å–ø–æ—Ä—Ç CSV/JSON
- üìç **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –∏ –∞—É–¥–∏–æ
- üí° **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏** - 3 —É—Ä–æ–≤–Ω—è –ø–æ–¥—Å–∫–∞–∑–æ–∫, –∑–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏-–∫–∞—Ä—Ç –∏ —Ñ–æ—Ç–æ-–ø–æ–¥—Å–∫–∞–∑–æ–∫
- üè∑Ô∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏** - 30 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º
- üéß **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ TTS, –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- üì∏ **–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ** - –ø—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏, –º–∞—Å—Å–æ–≤–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - —Å–ø–∏—Å–æ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- üé´ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å–∫–∏–¥–æ–∫
<<<<<<< HEAD
- ü§ù **–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞)** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—É–º–º—ã –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ –ø–µ—Ä–≤–æ–≥–æ –∫—É–ø–∏–≤—à–µ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ, –±–æ–Ω—É—Å –∑–∞ –æ—Ç–∑—ã–≤ (—Å—É–º–º–∞ –∏ –≤–∫–ª/–≤—ã–∫–ª), —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ç—ã—Ä—ë—Ö —É—Ä–æ–≤–Ω–µ–π –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∏ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã), —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å—Å—ã–ª–∫–∞–º, –ø–æ–∫—É–ø–æ–∫ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∞–º, –≤—ã–ø–ª–∞—á–µ–Ω–æ –≥—Ä–æ—à–µ–π –∏ –∑–∞ –æ—Ç–∑—ã–≤—ã)
- üèôÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- üè¶ **–ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤** - –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ä—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- üìà **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –æ—Ç—á–µ—Ç—ã, –º–µ—Ç—Ä–∏–∫–∏, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- üìñ **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–ª—å–±–æ–º–∞** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–∞ PDF-–∞–ª—å–±–æ–º–∞ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º: –æ–±–ª–æ–∂–∫–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ), –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∞–ª—å–±–æ–º–Ω–∞—è/–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è), —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ (—Å–ª–µ–≤–∞/—Å–ø—Ä–∞–≤–∞), –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ—á–∫–∏, —Ñ–∞–∫—Ç–∞, –¥–∞—Ç—ã —Ñ–æ—Ç–æ, –∞–¥—Ä–µ—Å–∞, –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü, –æ–ø—Ü–∏—è ¬´—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ¬ª; –ø—Ä–µ–≤—å—é –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ `/admin/album/constructor.php`

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Bot   ‚îÇ     ‚îÇ   –í–µ–±-—Å–∞–π—Ç      ‚îÇ     ‚îÇ  –í–µ–±-–∞–¥–º–∏–Ω–∫–∞    ‚îÇ
‚îÇ (Python/aiogram)‚îÇ     ‚îÇ   (PHP)         ‚îÇ     ‚îÇ  (PHP/Bootstrap)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ              MySQL 8.0 (–µ–¥–∏–Ω–∞—è –ë–î)            ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  uploads/  photos/      ‚îÇ
                    ‚îÇ  (–æ–±—â–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏)       ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**

- –ë–æ—Ç –∏ —Å–∞–π—Ç —á–∏—Ç–∞—é—Ç/–ø–∏—à—É—Ç –≤ –æ–¥–Ω—É –ë–î: `users`, `user_progress`, `payments`, `reviews`, `token_balances` –∏ –¥—Ä.
- –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –±–æ—Ç–æ–º –≤ `photos/{telegram_id}/`, —Å–∞–π—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ —Ç–µ–º –∂–µ –ø—É—Ç—è–º.
- –¢–æ–∫–µ–Ω—ã –≤—Ö–æ–¥–∞: –±–æ—Ç —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ `user_sessions`, —Å–∞–π—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ `auth/telegram.php` –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ index.php                 # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞
‚îú‚îÄ‚îÄ dashboard.php             # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îú‚îÄ‚îÄ routes.php                # –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏–∑ –æ—Ç–∑—ã–≤–æ–≤)
‚îú‚îÄ‚îÄ routes/view.php           # –ö–∞—Ä—Ç–æ—á–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞
‚îú‚îÄ‚îÄ photos.php                # –ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ
‚îú‚îÄ‚îÄ profile.php               # –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (/username)
‚îú‚îÄ‚îÄ bank.php                  # –ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ
‚îú‚îÄ‚îÄ achievements.php         # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ certificates.php         # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îú‚îÄ‚îÄ reviews.php              # –û—Ç–∑—ã–≤—ã
‚îú‚îÄ‚îÄ settings.php             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ 403.php, 404.php, 500.php
‚îú‚îÄ‚îÄ robots.txt, sitemap.xml
‚îÇ
‚îú‚îÄ‚îÄ includes/                 # –û–±—â–∏–µ –º–æ–¥—É–ª–∏ —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ init.php              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Å–µ—Å—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ config.php            # –ö–æ–Ω—Ñ–∏–≥ –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ db.php                # PDO, getDB()
‚îÇ   ‚îú‚îÄ‚îÄ auth.php              # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ functions.php         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ i18n.php              # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ header.php, footer.php
‚îÇ   ‚îî‚îÄ‚îÄ generate_certificate.php
‚îÇ
‚îú‚îÄ‚îÄ api/                      # API —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ telegram_auth.php     # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É
‚îÇ   ‚îú‚îÄ‚îÄ upload_avatar.php
‚îÇ   ‚îú‚îÄ‚îÄ update_privacy.php
‚îÇ   ‚îî‚îÄ‚îÄ create_certificates.php, generate_certificate.php, generate_album.php
‚îÇ
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îî‚îÄ‚îÄ telegram.php          # –í—Ö–æ–¥ –ø–æ —Ç–æ–∫–µ–Ω—É –æ—Ç /web
‚îÇ
‚îú‚îÄ‚îÄ admin/                    # –í–µ–±-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.php
‚îÇ   ‚îú‚îÄ‚îÄ login.php, logout.php
‚îÇ   ‚îú‚îÄ‚îÄ includes/             # header, footer, auth, audit_log
‚îÇ   ‚îú‚îÄ‚îÄ routes/               # list, create, edit
‚îÇ   ‚îú‚îÄ‚îÄ points/               # list, create, edit, import
‚îÇ   ‚îú‚îÄ‚îÄ hints/                # list, create, edit
‚îÇ   ‚îú‚îÄ‚îÄ tags/                 # list, create, edit
‚îÇ   ‚îú‚îÄ‚îÄ cities/               # list, create, edit
‚îÇ   ‚îú‚îÄ‚îÄ bank/                 # –±–∞–ª–∞–Ω—Å—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ moderation/           # –º–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ
‚îÇ   ‚îú‚îÄ‚îÄ users/                # —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ promo_codes/          # –ø—Ä–æ–º–æ–∫–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ reviews/              # –æ—Ç–∑—ã–≤—ã
‚îÇ   ‚îú‚îÄ‚îÄ analytics/            # –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ audit/                # –∞—É–¥–∏—Ç-–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ album/, certificates/, audio/, media/, referral/, moderators/
‚îÇ   ‚îî‚îÄ‚îÄ api/                  # translate, moderate_photo, stats, bulk_*, clone_route –∏ –¥—Ä.
‚îÇ
‚îú‚îÄ‚îÄ bot/                      # Telegram-–±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–æ—É—Ç–µ—Ä—ã, middlewares
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py         # –ó–∞–≥—Ä—É–∑–∫–∞ .env
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loader.py          # bot, dp, engine
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/            # SQLAlchemy: User, Route, Point, Review, TokenBalance, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories/      # –†–∞–±–æ—Ç–∞ —Å –ë–î: UserRepository, RouteRepository, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: user, admin, bank, payments, reviews, hints, audio, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # vision, photo_verifier, pose_movenet, certificate, antifraud, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã: user, admin, bank
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/       # db, user, ban_check, channel_check
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fsm/               # –°–æ—Å—Ç–æ—è–Ω–∏—è (admin_states, states, ReviewStates)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/             # i18n, helpers, safe_edit
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ install.sh, start.sh, stop.sh
‚îÇ   ‚îî‚îÄ‚îÄ reinstall_torch_cpu.sh
‚îÇ
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ QuestGuideFR.sql      # –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î + —Å–∏–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ uploads/                  # –û–±—â–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (avatars, reference, hints, audio)
‚îú‚îÄ‚îÄ photos/                   # –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–≤–µ—Å—Ç–∞–º
‚îú‚îÄ‚îÄ assets/                   # CSS, JS, —à–∞–±–ª–æ–Ω—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ pages/, webapp/, favicons/
‚îú‚îÄ‚îÄ .env, .htaccess
‚îî‚îÄ‚îÄ README.md
=======
- üèôÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- üè¶ **–ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤** - –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ä—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- üìà **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –æ—Ç—á–µ—Ç—ã, –º–µ—Ç—Ä–∏–∫–∏, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ REG.RU

```

/var/www/html/                      # –ö–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞ (public_html)
‚îÇ
‚îú‚îÄ‚îÄ index.php                       # –°–∞–π—Ç (PHP 7.4+)
‚îú‚îÄ‚îÄ dashboard.php
‚îú‚îÄ‚îÄ routes.php
‚îú‚îÄ‚îÄ photos.php
‚îú‚îÄ‚îÄ bank.php                        # –ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤ (–±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫)
‚îú‚îÄ‚îÄ achievements.php
‚îú‚îÄ‚îÄ settings.php
‚îú‚îÄ‚îÄ 404.php, 403.php, 500.php      # –°—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ robots.txt                      # SEO
‚îú‚îÄ‚îÄ sitemap.xml                     # SEO
‚îÇ
‚îú‚îÄ‚îÄ api/                            # API —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ upload_avatar.php          # –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ logout.php
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îî‚îÄ‚îÄ telegram.php                # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ includes/                       # PHP –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ assets/                         # CSS/JS
‚îú‚îÄ‚îÄ pages/
‚îÇ
‚îú‚îÄ‚îÄ admin/                          # –í–µ–±-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.php              # –î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ routes/                     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ points/                     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ hints/                      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ tags/                       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ cities/                     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ bank/                       # –ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤ (–±–∞–ª–∞–Ω—Å—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ moderation/                 # –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ
‚îÇ   ‚îú‚îÄ‚îÄ users/                      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ analytics/                  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ api/                        # API endpoints
‚îÇ
‚îú‚îÄ‚îÄ bot/                            # Telegram –±–æ—Ç (Python 3.8+)
‚îÇ   ‚îú‚îÄ‚îÄ bot/                        # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loader.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vision.py           # –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ (CLIP + AKAZE/ORB fallback)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ photo_verifier.py   # CLIP ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pose_movenet.py     # MoveNet + YOLOv8 ONNX ‚Äî –ø–æ–∑—ã –∏ –¥–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_notifier.py   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bank.py             # –ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤ (/token)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ .env                        # –ö–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ start_bot.sh, stop_bot.sh, restart_bot.sh
‚îÇ
‚îú‚îÄ‚îÄ photos/                         # –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ–∑–¥–∞—ë—Ç—Å—è –±–æ—Ç–æ–º)
‚îÇ   ‚îî‚îÄ‚îÄ {telegram_id}/
‚îÇ
‚îú‚îÄ‚îÄ uploads/                        # –û–ë–©–ê–Ø –ø–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ avatars/                    # –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ {user_id}/
‚îÇ   ‚îú‚îÄ‚îÄ users/                      # –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (legacy)
‚îÇ   ‚îú‚îÄ‚îÄ reference/                  # –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ
‚îÇ   ‚îú‚îÄ‚îÄ hints/                      # –ú–∏–Ω–∏-–∫–∞—Ä—Ç—ã –∏ —Ñ–æ—Ç–æ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ audio/points/               # –ê—É–¥–∏–æ—Ñ–∞–π–ª—ã –¥–ª—è —Ç–æ—á–µ–∫
‚îÇ   ‚îî‚îÄ‚îÄ temp/                       # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ certificate_foto/           # –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ certificate_template.png
‚îÇ       ‚îî‚îÄ‚îÄ generated/              # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql                  # –û–ë–©–ê–Ø —Å—Ö–µ–º–∞ MySQL
‚îÇ
‚îú‚îÄ‚îÄ .env                            # –ö–æ–Ω—Ñ–∏–≥ —Å–∞–π—Ç–∞
‚îî‚îÄ‚îÄ .htaccess                       # Apache –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ REG.RU

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ë–î

**–ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å REG.RU:**
1. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚Üí MySQL ‚Üí –°–æ–∑–¥–∞—Ç—å
2. –ò–º—è: `u3372144_schema`, –∫–æ–¥–∏—Ä–æ–≤–∫–∞: `utf8mb4_unicode_ci`
3. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
4. –ó–∞–ø–æ–º–Ω–∏—Ç—å: —Ö–æ—Å—Ç, –∏–º—è –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–∞—Ä–æ–ª—å

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

**–ß–µ—Ä–µ–∑ FTP (FileZilla/WinSCP):**
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ ftp.–≤–∞—à-–¥–æ–º–µ–Ω.ru
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ `www`
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å:
   - –í—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `Site/` ‚Üí –≤ –∫–æ—Ä–µ–Ω—å
   - –ü–∞–ø–∫—É `bot/` ‚Üí –∫–∞–∫ –µ—Å—Ç—å

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–æ—Ç–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
cd ~/www/questguiderf.ru/bot
chmod +x install.sh
./install.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt
- –ü—Ä–æ–≤–µ—Ä–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π torch –∏–ª–∏ –æ—à–∏–±–∫–∞ CUDA:**

```bash
cd ~/www/questguiderf.ru/bot
chmod +x reinstall_torch_cpu.sh
./reinstall_torch_cpu.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
cd ~/www/questguiderf.ru/bot
source venv/bin/activate
pip uninstall -y torch torchvision torchaudio
pip install torch==2.0.1+cpu --index-url https://download.pytorch.org/whl/cpu
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**1. –û–±–Ω–æ–≤–∏—Ç–µ .env –¥–ª—è —Å–∞–π—Ç–∞** (–≤ –∫–æ—Ä–Ω–µ `www/–í–∞—à –¥–æ–º–µ–Ω/.env`):

```env
DB_HOST=localhost
DB_NAME=quest_bot
DB_USER=quest_bot_user
DB_PASS=–≤–∞—à_–ø–∞—Ä–æ–ª—å_mysql
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
BOT_USERNAME=–≤–∞—à_–±–æ—Ç_username
SITE_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
DEBUG=false
```

**2. –û–±–Ω–æ–≤–∏—Ç–µ .env –¥–ª—è –±–æ—Ç–∞** (`www/–í–∞—à –¥–æ–º–µ–Ω/bot/.env`):

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
<<<<<<< HEAD
BOT_USERNAME=–∏–º—è –±–æ—Ç–∞

# Database (MySQL 8)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=–∏–º—è –±–¥
DB_USER=–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DB_PASSWORD=–ø–∞—Ä–æ–ª—å –æ—Ç –±–¥

# Google Cloud Vision API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π)
GOOGLE_APPLICATION_CREDENTIALS=
GOOGLE_CLOUD_PROJECT=

# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
PHOTOS_DIR=../uploads/users
REFERENCE_PHOTOS_DIR=../uploads/reference
TEMP_DIR=../uploads/temp

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∞–π—Ç–æ–º
SITE_URL=URL —Å–∞–π—Ç–∞
AUTH_SECRET=—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞_123

# Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ë–ï–ó –ø—Ä–æ–±–µ–ª–æ–≤)
# –ê–¥–º–∏–Ω—ã: @–≤–∞—à —é–∑–µ—Ä–Ω–µ–π–º
ADMIN_IDS=id –∞–¥–º–∏–Ω–æ–≤

# Telegram Stars:
PAYMENT_PROVIDER_TOKEN=

# –ò–ª–∏ –ÆKassa:
YUKASSA_SHOP_ID=
YUKASSA_SECRET_KEY=

# –ê–Ω—Ç–∏—Ñ—Ä–æ–¥
MAX_PHOTOS_PER_HOUR=30
MIN_PHOTO_INTERVAL_SEC=5

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ Telegram –∫–∞–Ω–∞–ª
TELEGRAM_CHANNEL_USERNAME=questguiderf
TELEGRAM_CHANNEL_ID=1003459908957
REQUIRE_SUBSCRIPTION=true
=======
ADMIN_IDS=–≤–∞—à_telegram_id,–≤—Ç–æ—Ä–æ–π_–∞–¥–º–∏–Ω_id
DB_HOST=localhost
DB_PORT=3306
DB_USER=quest_bot_user
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_mysql
DB_NAME=quest_bot
BASE_DIR=/var/www/html
SITE_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
API_SECRET=—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞_123
>>>>>>> 2ed20ce8af442d6700b46589978e78c41bb0322c
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```bash
cd ~/www/questguiderf.ru/bot
chmod +x install.sh
./install.sh
```

**–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```bash
cd ~/www/questguiderf.ru/bot
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
export OPENBLAS_NUM_THREADS=1
export OMP_NUM_THREADS=1
pip install -r requirements.txt
```

**–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**

```bash
cd ~/www/questguiderf.ru/bot
chmod +x start.sh
./start.sh
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**

```bash
cd ~/www/questguiderf.ru/bot/bot
source ../venv/bin/activate
export OPENBLAS_NUM_THREADS=1
export OMP_NUM_THREADS=1
export PYTHONPATH="$(pwd)/..:${PYTHONPATH}"
python -m bot.main
```

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è screen:**

```bash
screen -ls                    # –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
screen -r questbot            # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Å—Å–∏–∏
# –í–Ω—É—Ç—Ä–∏ screen: Ctrl+A, –∑–∞—Ç–µ–º D - –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
2. ‚úÖ –£–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É "Login with Telegram"
3. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è
4. ‚úÖ –í –±–æ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`
5. ‚úÖ –í –±–æ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/web` ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–π—Ç

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**–ë–æ—Ç:**

- Python 3.8+
- aiogram 3.4
- MySQL 8.0 (aiomysql)
<<<<<<< HEAD
- SQLAlchemy 2.0
- ONNX Runtime (YOLOv8n ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π –Ω–∞ —Ñ–æ—Ç–æ)
- CLIP (transformers) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–∫–∞—Ü–∏–∏ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é; fallback ‚Äî AKAZE/ORB –ø–æ —ç—Ç–∞–ª–æ–Ω–∞–º
- Edge TTS –¥–ª—è –∞—É–¥–∏–æ–≥–∏–¥–∞
- # PyTorch (CPU) –¥–ª—è CLIP; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ reinstall_torch_cpu.sh
- OpenCV + MoveNet Lightning ONNX (–≤–º–µ—Å—Ç–æ MediaPipe)
- ONNX Runtime –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑
- Edge TTS –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—É–¥–∏–æ (–∂–∏–≤–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–π –≥–æ–ª–æ—Å)
- SQLAlchemy 2.0 –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

**–°–∞–π—Ç:**

- PHP 7.4+
- MySQL 8.0 (PDO)
<<<<<<< HEAD
- Vanilla JS, CSS3 (Mobile-first)
- Bootstrap 5.3.0 (–∞–¥–º–∏–Ω–∫–∞)
- Chart.js 4.4.0 (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
- GD Library, TCPDF (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞ (bot/bot/):**

- **routers/** ‚Äî user (–∫–≤–µ—Å—Ç—ã, —Ñ–æ—Ç–æ, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞, –æ—Ç–∑—ã–≤ –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è), admin, admin_bans, bank (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫—É–ø–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞, topup_for_route —Å –∞–≤—Ç–æ—Å—É–º–º–æ–π), payments, reviews, hints, audio, web_auth, moderator, filters.
- **services/** ‚Äî vision (CLIP), photo_verifier, pose_movenet (YOLOv8 ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —á–µ–ª–æ–≤–µ–∫–∞), antifraud, certificate, admin_notifier, audio_generator (Edge TTS), text_validator.
- **models/** ‚Äî User, Route, Point, Review, TokenBalance, TokenTransaction, Payment, UserProgress, Hint, Tag, PromoCode –∏ –¥—Ä.
- **repositories/** ‚Äî UserRepository, RouteRepository, PointRepository, ProgressRepository, TokenRepository, ReviewRepository –∏ –¥—Ä. –¢–æ—á–µ—á–Ω—ã–µ –≤—ã–±–æ—Ä–∫–∏: `PointRepository.get_next_point_data()` (id, order, name), `RouteRepository.get_route_names()` (name, name_en), –≤ `has_paid_for_route` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ id –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.
- **keyboards/** ‚Äî user (quest_completed —Å –∫–Ω–æ–ø–∫–æ–π ¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤¬ª), admin, bank (topup_for_route, deposit_amounts_with_recommended).
- **middlewares/** ‚Äî DbSessionMiddleware, UserMiddleware, BanCheckMiddleware, ChannelCheckMiddleware.
- **fsm/** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞, –æ—Ç–∑—ã–≤–∞, –∞–¥–º–∏–Ω–∫–∏.
- **utils/** ‚Äî i18n (ru/en), helpers, safe_edit.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–æ—Ç–∞ (–æ—Å–Ω–æ–≤–Ω—ã–µ, –∏–∑ requirements.txt):**

- aiogram==3.4.1, aiohttp==3.9.1, aiomysql==0.2.0, sqlalchemy==2.0.25
- opencv-python==4.8.1.78, onnxruntime==1.16.3, pillow==10.2.0, numpy==1.24.4
- edge-tts>=6.1.9, transformers>=4.30.0
- torch==2.0.1+cpu (—á–µ—Ä–µ–∑ --extra-index-url PyTorch CPU)

## üìã –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–û–ë–©–ê–Ø)

–§–∞–π–ª —Å—Ö–µ–º—ã: `database/QuestGuideFR.sql`. –ë–æ—Ç –∏ —Å–∞–π—Ç –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ –æ–¥–Ω–æ–π –ë–î.

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**


| –¢–∞–±–ª–∏—Ü–∞         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                          |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| `users`         | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: telegram_id, username, first_name, role; –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (ban_until, ban_reason, banned_by); is_profile_public; referred_by_id (—Ä–µ—Ñ–µ—Ä–∞–ª) |
| `user_sessions` | –¢–æ–∫–µ–Ω—ã –≤—Ö–æ–¥–∞ –¥–ª—è —Å–∞–π—Ç–∞ (–±–æ—Ç —Å–æ–∑–¥–∞—ë—Ç, —Å–∞–π—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ auth/telegram.php)                                                                          |


**–ö–æ–Ω—Ç–µ–Ω—Ç:**


| –¢–∞–±–ª–∏—Ü–∞            | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                         |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `cities`           | –ì–æ—Ä–æ–¥–∞ (name, name_en, –æ–ø–∏—Å–∞–Ω–∏–µ)                                                                                                                 |
| `routes`           | –ú–∞—Ä—à—Ä—É—Ç—ã: city_id, name, price, difficulty, estimated_duration, route_type, max_hints_per_route, is_active                                       |
| `points`           | –¢–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞: route_id, order, name, task_text, task_type (photo/text/riddle), min_people, latitude, longitude, audio_enabled, audio_file_path |
| `reference_images` | –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–∫–∞—Ü–∏–∏                                                                                                              |
| `tasks`            | –ó–∞–¥–∞–Ω–∏—è —Ç–æ—á–µ–∫ (–¥–ª—è –±–æ—Ç–∞)                                                                                                                         |
| `hints`            | –ü–æ–¥—Å–∫–∞–∑–∫–∏: point_id, level (1‚Äì3), text, image_path (–º–∏–Ω–∏-–∫–∞—Ä—Ç—ã, —Ñ–æ—Ç–æ)                                                                            |
| `tags`             | –¢–µ–≥–∏ (—Ç–µ–º—ã, –≤–æ–∑—Ä–∞—Å—Ç, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ —Ç.–¥.)                                                                                                           |
| `route_tags`       | –°–≤—è–∑—å –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ç–µ–≥–∞–º–∏                                                                                                                         |


**–ü—Ä–æ–≥—Ä–µ—Å—Å –∏ –º–µ–¥–∏–∞:**


| –¢–∞–±–ª–∏—Ü–∞         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                        |
| --------------- | ----------------------------------------------------------------------------------------------- |
| `user_progress` | –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º: user_id, route_id, status, current_point_order, started_at, completed_at |
| `user_photos`   | –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ç–æ—á–∫–∞–º (–±–æ—Ç –ø–∏—à–µ—Ç, —Å–∞–π—Ç —á–∏—Ç–∞–µ—Ç)                                           |
| `user_hints`    | –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫                                                                 |


**–ü–ª–∞—Ç–µ–∂–∏ –∏ —Ç–æ–∫–µ–Ω—ã:**


| –¢–∞–±–ª–∏—Ü–∞              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                         |
| -------------------- | -------------------------------------------------------------------------------- |
| `token_balances`     | –ë–∞–ª–∞–Ω—Å –≥—Ä–æ—à–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                                       |
| `token_transactions` | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: deposit, purchase, transfer_in/out, referral_reward, refund          |
| `token_deposits`     | –ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–ÆKassa, Stars)                                                       |
| `payments`           | –ü–æ–∫—É–ø–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–±–æ—Ç –ø–∏—à–µ—Ç, —Å–∞–π—Ç —á–∏—Ç–∞–µ—Ç)                                       |
| `promo_codes`        | –ü—Ä–æ–º–æ–∫–æ–¥—ã: discount_type (percentage/fixed/free_route), discount_value, route_id |
| `promo_code_uses`    | –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤                                                 |


**–û—Ç–∑—ã–≤—ã –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**


| –¢–∞–±–ª–∏—Ü–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                                                                           |
| ------------------- | ---------------------------------------------------------------------------------- |
| `reviews`           | –û—Ç–∑—ã–≤—ã: user_id, route_id, progress_id, rating (1‚Äì5), text, is_approved, is_hidden |
| `achievements`      | –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (condition_type, condition_value)                                       |
| `user_achievements` | –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                                                |


**–ê—É–¥–∏–æ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**


| –¢–∞–±–ª–∏—Ü–∞               | –û–ø–∏—Å–∞–Ω–∏–µ                                                              |
| --------------------- | --------------------------------------------------------------------- |
| `audio_cache`         | –ö–µ—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ (Edge TTS) –ø–æ point_id, language, text_hash |
| `user_audio_settings` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                          |
| `system_settings`     | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏, —Ä—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è                      |
| `platform_settings`   | referral_reward_amount –∏ –¥—Ä.                                          |


**–ê–¥–º–∏–Ω–∫–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è:**


| –¢–∞–±–ª–∏—Ü–∞                                                              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                  |
| -------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| `audit_log`                                                          | –õ–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–æ–≤ (entity_type, entity_id, action, old_data, new_data) |
| `moderation_tasks`                                                   | –ó–∞–¥–∞—á–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ                                                     |
| `moderator_requests`, `moderator_balances`, `moderator_transactions` | –ó–∞—è–≤–∫–∏ –∏ –±–∞–ª–∞–Ω—Å—ã –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤                                              |
| `certificates`                                                       | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã                                               |
| `album_templates`                                                    | –®–∞–±–ª–æ–Ω—ã PDF-–∞–ª—å–±–æ–º–æ–≤ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º (route_id, template_json)               |
| `withdrawal_requests`                                                | –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤                                                   |


**–ú–∏–≥—Ä–∞—Ü–∏–∏:**

- **–°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã**: `database/migrations/add_composite_indexes.sql` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –ø–æ–¥ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã: `user_progress (user_id, route_id, status)`, `reviews (route_id, is_approved)`, `payments (user_id, route_id)`, `points (route_id, order)`. –í—ã–ø–æ–ª–Ω–∏—Ç—å: `mysql -u user -p dbname < database/migrations/add_composite_indexes.sql`.
- –î–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∏: —Ç–∏–ø `referral_reward` –≤ `token_transactions` ‚Äî –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `database/migrations/add_referral_reward_enum.sql`.
- # –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∑—ã: `database/migration_drop_require_pose.sql` ‚Äî —É–±–∏—Ä–∞–µ—Ç `require_pose` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `points` (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑—ã –æ—Ç–∫–ª—é—á–µ–Ω–∞, –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–µ—Ç–µ–∫—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–∞ YOLOv8).
- Vanilla JS
- CSS3 (Mobile-first)
- Bootstrap 5.3.0 –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- Chart.js 4.4.0 –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- GD Library –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
- TCPDF –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## üìã –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–û–ë–©–ê–Ø)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Å –ø–æ–ª—è–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: ban_until, ban_reason, banned_by, banned_at)
- `cities` - –≥–æ—Ä–æ–¥–∞
- `routes` - –º–∞—Ä—à—Ä—É—Ç—ã (—Å –ø–æ–ª—è–º–∏: difficulty, duration_minutes, age_min, age_max, season, max_hints_per_route)
- `points` - —Ç–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Å –ø–æ–ª—è–º–∏: audio_enabled, audio_file_path, audio_language)
- `reference_images` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ
- `user_progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å (–±–æ—Ç –ø–∏—à–µ—Ç ‚Üí —Å–∞–π—Ç —á–∏—Ç–∞–µ—Ç)
- `payments` - –ø–ª–∞—Ç–µ–∂–∏ (–±–æ—Ç –ø–∏—à–µ—Ç ‚Üí —Å–∞–π—Ç —á–∏—Ç–∞–µ—Ç)
- `user_photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (–±–æ—Ç –ø–∏—à–µ—Ç ‚Üí —Å–∞–π—Ç —á–∏—Ç–∞–µ—Ç)
- `user_sessions` - —Ç–æ–∫–µ–Ω—ã –≤—Ö–æ–¥–∞ (–±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç ‚Üí —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
- `achievements` + `user_achievements` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

**–ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

- `hints` - –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ç–æ—á–µ–∫ (3 —É—Ä–æ–≤–Ω—è: –ª–µ–≥–∫–∞—è, —Å—Ä–µ–¥–Ω—è—è, –¥–µ—Ç–∞–ª—å–Ω–∞—è) —Å –ø–æ–ª–µ–º `image_path` –¥–ª—è —Ñ–æ—Ç–æ-–ø–æ–¥—Å–∫–∞–∑–æ–∫
- `user_hints` - –∏—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `tags` - —Ç–µ–≥–∏ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Ç–µ–º—ã, –≤–æ–∑—Ä–∞—Å—Ç, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–µ–∑–æ–Ω)
- `route_tags` - —Å–≤—è–∑—å –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ç–µ–≥–∞–º–∏
- `audio_cache` - –∫–µ—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- `user_audio_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `system_settings` - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏, —Ä—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- `promo_codes` - –ø—Ä–æ–º–æ–∫–æ–¥—ã —Å —Ç–∏–ø–∞–º–∏ —Å–∫–∏–¥–æ–∫ (–ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ)
- `promo_code_uses` - –∏—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `reviews` - –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

## üîó –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 1. –û–±—â–∞—è –ë–î MySQL

–ë–æ—Ç –∏ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞—é—Ç —Å **–æ–¥–Ω–æ–π** –±–∞–∑–æ–π `quest_bot`:

```python
# bot/bot/config.py
return f"mysql+aiomysql://user:password@localhost:3306/quest_bot"
```

```php
// Site/includes/db.php
new PDO("mysql:host=localhost;dbname=quest_bot", "user", "password");
```

### 2. –û–±—â–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ

```python
# –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤:
/var/www/html/photos/{telegram_id}/point_{id}_{timestamp}.jpg
```

```php
// –°–∞–π—Ç —á–∏—Ç–∞–µ—Ç –∏–∑:
<img src="/photos/{telegram_id}/point_{id}_{timestamp}.jpg">
```

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã

**–í –±–æ—Ç–µ:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí /web
–ë–æ—Ç ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü—É user_sessions
–ë–æ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É —Å —Å—Å—ã–ª–∫–æ–π https://site.ru/auth/telegram?token=XXX
```

**–ù–∞ —Å–∞–π—Ç–µ:**

```php
// Site/auth/telegram.php
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω ‚Üí –ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ dashboard
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–ª—è —Å–∞–π—Ç–∞ (.env –≤ –∫–æ—Ä–Ω–µ)

```env
# MySQL - –û–ë–©–ê–Ø –ë–î
DB_HOST=localhost
DB_NAME=quest_bot
DB_USER=quest_bot_user
DB_PASS=your_password

# Telegram Bot
BOT_TOKEN=123456:ABC-DEF...
BOT_USERNAME=your_bot_username

# Site
SITE_URL=https://yourdomain.com
DEBUG=false
```

### –î–ª—è –±–æ—Ç–∞ (bot/.env)

```env
# Telegram Bot
BOT_TOKEN=123456:ABC-DEF...
ADMIN_IDS=123456789,987654321
<<<<<<< HEAD
SUPER_ADMIN_IDS=123456789
=======
>>>>>>> 2ed20ce8af442d6700b46589978e78c41bb0322c

# MySQL - –¢–ê –ñ–ï –ë–î
DB_HOST=localhost
DB_PORT=3306
DB_USER=quest_bot_user
DB_PASSWORD=your_password
DB_NAME=quest_bot

# Paths - –∫–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞
BASE_DIR=/var/www/html

# Web Integration
SITE_URL=https://yourdomain.com
API_SECRET=random_secret_key
<<<<<<< HEAD

# –ü–ª–∞—Ç–µ–∂–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
PAYMENT_PROVIDER_TOKEN=...   # –ÆKassa –¥–ª—è Telegram Payments
REQUIRE_SUBSCRIPTION=false   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ system_settings)
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±–æ—Ç–∞ (–∫—Ä–∞—Ç–∫–æ):**

- `BOT_TOKEN`, `ADMIN_IDS` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.
- `DB_`* ‚Äî —Ç–µ –∂–µ, —á—Ç–æ —É —Å–∞–π—Ç–∞ (–æ–¥–Ω–∞ –ë–î).
- `BASE_DIR` ‚Äî –ø—É—Ç—å –∫ –∫–æ—Ä–Ω—é —Å–∞–π—Ç–∞ (–¥–ª—è –ø—É—Ç–µ–π –∫ uploads, photos).
- `SITE_URL`, `API_SECRET` ‚Äî –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/web` –∏ API —Å–∞–π—Ç–∞.
- `PAYMENT_PROVIDER_TOKEN` ‚Äî –¥–ª—è –ÆKassa; Stars —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
- `REQUIRE_SUBSCRIPTION` ‚Äî –¥–µ—Ñ–æ–ª—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏ (–≤ –∞–¥–º–∏–Ω–∫–µ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å).

=======

```

>>>>>>> 2ed20ce8af442d6700b46589978e78c41bb0322c
## üéØ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ schema.sql –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

**–ì–æ—Ä–æ–¥:** –ú–æ—Å–∫–≤–∞
**–ú–∞—Ä—à—Ä—É—Ç:** –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä (399‚ÇΩ)
**–¢–æ—á–∫–∏:** 3 (–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å, –•—Ä–∞–º –í–∞—Å–∏–ª–∏—è –ë–ª–∞–∂–µ–Ω–Ω–æ–≥–æ, –ì–£–ú)
**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:** 10 —à—Ç—É–∫ (–æ—Ç "–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏" –¥–æ "–õ–µ–≥–µ–Ω–¥–∞")

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
### –ë–æ—Ç

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
screen -ls                    # –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
screen -r questbot            # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
# –í–Ω—É—Ç—Ä–∏ screen: Ctrl+A, –∑–∞—Ç–µ–º D - –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è
```

### –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–î–æ–±–∞–≤–∏—Ç—å –≤ cron:**

```bash
crontab -e
```

```cron
# –û—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
0 3 * * * /var/www/html/bot/venv/bin/python /var/www/html/bot/bot/utils/cleanup.py

# –ë—ç–∫–∞–ø –ë–î –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 4:00
0 4 * * * mysqldump -u quest_bot_user -pPASSWORD quest_bot > /var/www/html/backups/db_$(date +\%Y\%m\%d).sql
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞
screen -r questbot
tail -f /var/www/html/bot/bot.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
mysql -u quest_bot_user -p quest_bot
> SELECT COUNT(*) FROM users;
> SELECT * FROM routes;

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
cd /var/www/html/bot
source venv/bin/activate
python bot/utils/cleanup.py

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
screen -r questbot
# Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

1. **–í Telegram:** –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –±–æ—Ç—É
2. –í—ã–±—Ä–∞—Ç—å –≥–æ—Ä–æ–¥ –∏ –º–∞—Ä—à—Ä—É—Ç
3. –û–ø–ª–∞—Ç–∏—Ç—å 399‚ÇΩ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ `/promo`)
4. –ü—Ä–æ–π—Ç–∏ –∫–≤–µ—Å—Ç:

# <<<<<<< HEAD
   - **–§–æ—Ç–æ-–∑–∞–¥–∞–Ω–∏—è** ‚Äî —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–æ—á–∫–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏ –ª–æ–∫–∞—Ü–∏–∏)
   - **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è** ‚Äî –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–≥–∞–¥–∫—É —Ç–µ–∫—Å—Ç–æ–º

- **–§–æ—Ç–æ-–∑–∞–¥–∞–Ω–∏—è** - —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–æ—á–∫–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–æ–∑–æ–π
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è** - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–≥–∞–¥–∫—É —Ç–µ–∫—Å—Ç–æ–º
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏** - –∫–Ω–æ–ø–∫–∞ "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞" –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –º–µ–Ω—é –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏–º–µ—é—Ç 3 —É—Ä–æ–≤–Ω—è: –ª–µ–≥–∫–∞—è, —Å—Ä–µ–¥–Ω—è—è, –¥–µ—Ç–∞–ª—å–Ω–∞—è (—Å –º–∏–Ω–∏-–∫–∞—Ä—Ç–∞–º–∏ –∏ —Ñ–æ—Ç–æ)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º)

1. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞
2. **–ù–∞ —Å–∞–π—Ç–µ:** `/web` –≤ –±–æ—Ç–µ ‚Üí –≤–æ–π—Ç–∏ ‚Üí —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

<<<<<<< HEAD
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UX:**

- **–°–∞–π—Ç ‚Üí –∫–≤–µ—Å—Ç:** –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –≤–µ–¥—ë—Ç –≤ –±–æ—Ç —Å `?start=route_{id}` ‚Äî –∫–≤–µ—Å—Ç —Å—Ä–∞–∑—É –≤—ã–±—Ä–∞–Ω.
- **–†–µ–π—Ç–∏–Ω–≥ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞—Ö:** –Ω–∞ `routes.php` —É –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ—Ç–∑—ã–≤–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä ‚≠ê 4.5/5); —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ –æ—Ç–∑—ã–≤—ã.
- **–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞:** –∫–Ω–æ–ø–∫–∏ ¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤¬ª (–≤–µ–¥—ë—Ç –∫ —Ñ–æ—Ä–º–µ –æ—Ü–µ–Ω–∫–∏ 1‚Äì5 –∏ —Ç–µ–∫—Å—Ç—É) –∏ ¬´–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª.
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥—Ä–æ—à–µ–π:** –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª –∏ ¬´–ù–∞–∑–∞–¥¬ª; –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Å—É–º–º–∞, —Ä–∞–≤–Ω–∞—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–π (—Å—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ –º–∏–Ω—É—Å –±–∞–ª–∞–Ω—Å).

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

1. **–í –±–æ—Ç–µ:** `/admin` ‚Üí —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏/–º–∞—Ä—à—Ä—É—Ç–∞–º–∏/—Ç–æ—á–∫–∞–º–∏/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏/–ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –¥–ª—è —Ç–æ—á–µ–∫
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ

# <<<<<<< HEAD
   - **–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—É–º–º—ã –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è (–≥—Ä–æ—à–∏ –∑–∞ –ø–æ–∫—É–ø–∫—É –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ)

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (1—á, 1–¥, 1–º, 1–≥, –Ω–∞–≤—Å–µ–≥–¥–∞)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ–≥–∏–¥–æ–≤ —á–µ—Ä–µ–∑ TTS
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã:**
  - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª
  - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Ä—É—á–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ (–≤—Å–µ —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É –∞–¥–º–∏–Ω–∞–º)
  - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

1. **–í–µ–±-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** `/admin` –≤ –±–æ—Ç–µ ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É ‚Üí –≤–æ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç
  - –î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
  - –ú–∞—Å—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ —Ç–æ—á–∫–∞–º–∏
  - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –¥–ª—è —Ç–æ—á–µ–∫
  - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º

# <<<<<<< HEAD
   - **–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ:**
  - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º** - –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∞–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
  - **–†—É—á–Ω–æ–π —Ä–µ–∂–∏–º** - –≤—Å–µ —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É –∏–¥—É—Ç –∞–¥–º–∏–Ω–∞–º –±–µ–∑ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–æ–∫ (–¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π/–¥–µ–º–æ)

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

- üéØ **–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏** - –∑–∞–≤–µ—Ä—à–∏—Ç–µ 1 –º–∞—Ä—à—Ä—É—Ç
- üó∫Ô∏è **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å** - –ø—Ä–æ–π–¥–∏—Ç–µ 5 –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üèÜ **–ú–∞—Å—Ç–µ—Ä –∫–≤–µ—Å—Ç–æ–≤** - 10 –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üìç **–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä** - 50 —Ç–æ—á–µ–∫
- üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ** - 100 —Ñ–æ—Ç–æ
- üíØ **–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç** - 100% –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π** - –±—ã—Å—Ç—Ä–µ–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- üåô **–ù–æ—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–Ω–∏–∫** - –∫–≤–µ—Å—Ç –Ω–æ—á—å—é (22:00-06:00)
- üåÖ **–†–∞–Ω–Ω—è—è –ø—Ç–∞—à–∫–∞** - –∫–≤–µ—Å—Ç –¥–æ 8:00
- üëë **–õ–µ–≥–µ–Ω–¥–∞** - –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

<<<<<<< HEAD

## üìå –û–±–Ω–æ–≤–ª–µ–Ω–∏—è: –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–ó–∞—è–≤–∫–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ (Telegram):**

- –ü—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ `/become_creator` –∞–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram —Å –∫–Ω–æ–ø–∫–∞–º–∏ **¬´–ü—Ä–∏–Ω—è—Ç—å¬ª** –∏ **¬´–û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª** (–∫–∞–∫ –ø—Ä–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ).
- –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–µ—à–µ–Ω–∏–∏.

**–°–≤—è–∑—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä ‚Üî –∞–¥–º–∏–Ω:**

- –í –º–µ–Ω—é –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ **¬´–°–≤—è–∑—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π¬ª**: —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Ö–æ–¥–∏—Ç –≤—Å–µ–º –∞–¥–º–∏–Ω–∞–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞.
- –£ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É **¬´–û—Ç–≤–µ—Ç–∏—Ç—å¬ª** ‚Äî –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–≤–µ—Ç, –∏ –æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É –≤ Telegram.

**–ú–∞—Ä—à—Ä—É—Ç—ã –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞:**

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º –∞–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏ **¬´–û–¥–æ–±—Ä–∏—Ç—å¬ª** –∏ **¬´–û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª** –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –º–∞—Ä—à—Ä—É—Ç –≤ –∞–¥–º–∏–Ω–∫–µ.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç–æ–≤: –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–ú–∞—Ä—à—Ä—É—Ç —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç¬ª.
- –í –±–æ—Ç–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –≤–µ–± (`/web`).

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è: –æ–ø—Ä–æ—Å, –æ—Ç–∑—ã–≤—ã, –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞

**–û–ø—Ä–æ—Å –ø–æ—Å–ª–µ –∫–≤–∏–∑–∞:**

- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞ **—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∞–º** –≤ Telegram: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –º–∞—Ä—à—Ä—É—Ç, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —á—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, –±—ã–ª–∏ –ª–∏ –ø—Ä–æ–±–ª–µ–º—ã (–∏ –æ–ø–∏—Å–∞–Ω–∏–µ), —á—Ç–æ —É–ª—É—á—à–∏—Ç—å. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `AdminNotifier.notify_survey_results()`, –≤—ã–∑–æ–≤ –∏–∑ `bot/routers/survey.py` –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤.

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –æ—Ç–∑—ã–≤–µ:**

- –°–æ–æ–±—â–µ–Ω–∏–µ ¬´‚≠ê –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤! ‚Ä¶¬ª –∞–¥–º–∏–Ω–∞–º –¥–æ–ø–æ–ª–Ω–µ–Ω–æ **–¥–≤—É–º—è inline-–∫–Ω–æ–ø–∫–∞–º–∏**:
  - **¬´üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª** ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞ (—Ç–æ –∂–µ, —á—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –≤ –º–µ–Ω—é).
  - **¬´üìú –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç¬ª** ‚Äî —ç–º—É–ª–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É `/web` (–≤—ã–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–π—Ç/Web App).
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `bot/routers/user.py`: `from_review:main_menu` –∏ `from_review:web` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_send_web_access` –∏–∑ `web_auth`).

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∏ (–∞–¥–º–∏–Ω–∫–∞):**

- `admin/referral/index.php`: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω—ã –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è `.page-hero` –∏ `.btn-primary` (–≤ —Ç.—á. hover), –∑–∞–¥–∞–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `color` –¥–ª—è `.page-hero-title` –∏ `.btn-outline-primary:hover`. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –±–ª–æ–∫–µ ¬´–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª (–ø—Ä–∏–º–µ—Ä —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏: `t.me/–±–æ—Ç?start=ref_123`).

**–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Å–∞–π—Ç–µ:**

- –î–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É —Å **–±—ã—Å—Ç—Ä—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏**: –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–æ–¥, —Å–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ (—Ç–æ–ª—å–∫–æ –ø–æ —Å–≤–æ–∏–º –º–∞—Ä—à—Ä—É—Ç–∞–º).
- –í –º–µ–Ω—é: –º–∞—Ä—à—Ä—É—Ç—ã, —Ç–æ—á–∫–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∏, –∞—É–¥–∏–æ–≥–∏–¥, **–≥–æ—Ä–æ–¥–∞** (—Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä).
- –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã/—Ç–æ—á–∫–∏/–ø–æ–¥—Å–∫–∞–∑–∫–∏/–∞—É–¥–∏–æ; –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∑–∞–∫—Ä—ã—Ç (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥ –±–µ–∑ –æ—à–∏–±–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤).

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤ –±–æ—Ç–µ:**

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ—á–∫–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º –≤ –ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (`task_type`, `accept_partial_match`, `max_attempts`), –æ—à–∏–±–∫–∏ IntegrityError —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã.

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º:**

- –ù–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –æ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Äî –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –∞–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram (–¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞ ‚Äî —Å –∫–Ω–æ–ø–∫–∞–º–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è).

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

## üîß –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–∫—Å—ã

### –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫

**3 —É—Ä–æ–≤–Ω—è –ø–æ–¥—Å–∫–∞–∑–æ–∫:**

- üí° **–õ–µ–≥–∫–∞—è** - –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–∞–º–µ–∫ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é
- üî¶ **–°—Ä–µ–¥–Ω—è—è** - –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ, –¥–µ—Ç–∞–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üéØ **–î–µ—Ç–∞–ª—å–Ω–∞—è** - –ø–æ—á—Ç–∏ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –º–∏–Ω–∏-–∫–∞—Ä—Ç–∞ —Å –æ—Ç–º–µ—Ç–∫–æ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã **–ø—Ä—è–º–æ –≤ –º–µ–Ω—é –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞** - –∫–Ω–æ–ø–∫–∞ "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏
- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–ª—è —Ç–æ—á–∫–∏ –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ (2 –æ—Å—Ç–∞–ª–æ—Å—å)")
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤ –ø–æ–ª–µ `max_hints_per_route`)
- –ö–∞–∂–¥–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (—Å–Ω–∞—á–∞–ª–∞ –ª–µ–≥–∫–∞—è, –ø–æ—Ç–æ–º —Å—Ä–µ–¥–Ω—è—è, –ø–æ—Ç–æ–º –¥–µ—Ç–∞–ª—å–Ω–∞—è)
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏-–∫–∞—Ä—Ç—É —Å –æ—Ç–º–µ—Ç–∫–æ–π –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- **–§–æ—Ç–æ-–ø–æ–¥—Å–∫–∞–∑–∫–∏** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫ –ª—é–±–æ–º—É —É—Ä–æ–≤–Ω—é –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏
- –ü–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞–¥–∞–Ω–∏—é –∫–Ω–æ–ø–∫–æ–π "‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞–Ω–∏—é"

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

1. –í–æ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞" –≤ –º–µ–Ω—é —Ç–æ—á–∫–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ) –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏, —Ñ–æ—Ç–æ (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –º–∏–Ω–∏-–∫–∞—Ä—Ç—É (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –ù–∞–∂–º–∏—Ç–µ "‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞–Ω–∏—é" —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞–¥–∞–Ω–∏—é —Ç–æ—á–∫–∏
5. –ù–∞–π–¥–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–¥—Å–∫–∞–∑–∫—É

- –ü—Ä–∏–≤—è–∑–∫–∞ —Å–ª–æ–≤: –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–æ—á–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ, –±–æ–Ω—É—Å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ PDF —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã"
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–∞—Ä—à—Ä—É—Ç–µ
- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö

<<<<<<< HEAD

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä PDF-–∞–ª—å–±–æ–º–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ PDF-—Ñ–æ—Ç–æ–∞–ª—å–±–æ–º–∞ –ø–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É: –æ–±–ª–æ–∂–∫–∞ + —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã —Å —Ñ–æ—Ç–æ —Ç–æ—á–µ–∫ –∏ —Ç–µ–∫—Å—Ç–æ–º (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏, —Ñ–∞–∫—Ç, –¥–∞—Ç–∞ —Å—ä—ë–º–∫–∏ –∏ —Ç.–¥.).

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** PHP, tFPDF (lib/tfpdf), UTF-8 —à—Ä–∏—Ñ—Ç—ã DejaVu. –§–æ—Ç–æ –±–µ—Ä—É—Ç—Å—è –∏–∑ `user_photos` –ø–æ `progress_id`, –¥–∞–Ω–Ω—ã–µ —Ç–æ—á–µ–∫ ‚Äî –∏–∑ `points` –∏ –º–∞—Ä—à—Ä—É—Ç–∞.

**–î–æ—Å—Ç—É–ø:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã¬ª (`certificates.php`) ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å –∞–ª—å–±–æ–º¬ª —É –∫–∞–∂–¥–æ–≥–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞. –ó–∞–ø—Ä–æ—Å: `GET /api/generate_album.php?progress_id=...`. –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –∞–ª—å–±–æ–º–∞–º (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ `user_id`).
- –ê–¥–º–∏–Ω: –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∞–ª—å–±–æ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Å—ã–ª–∫–∞ –ø—Ä–µ–≤—å—é —Å `preview=1` (–ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ª—é–±–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É).

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–ª—å–±–æ–º–∞** (`/admin/album/constructor.php`):

- –í—ã–±–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞; –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `album_templates` (–æ–¥–∏–Ω —à–∞–±–ª–æ–Ω –Ω–∞ –º–∞—Ä—à—Ä—É—Ç).
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è (–∞–ª—å–±–æ–º–Ω–∞—è/–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è), –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ –Ω–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ (—Å–ª–µ–≤–∞/—Å–ø—Ä–∞–≤–∞), –ø–æ–∫–∞–∑ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ—á–∫–∏, —Ñ–∞–∫—Ç–∞, –¥–∞—Ç—ã —Ñ–æ—Ç–æ, –∞–¥—Ä–µ—Å–∞; —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞, –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü; –æ–±–ª–æ–∂–∫–∞ ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `/admin/api/upload_album_background.php`, —Ñ–∞–π–ª—ã –≤ `uploads/album_backgrounds/`); –æ–ø—Ü–∏—è ¬´—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ¬ª (–≤—Å—Ç–∞–≤–∫–∞ –≥–æ—Ç–æ–≤–æ–≥–æ PDF —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞).
- –ü—Ä–µ–≤—å—é —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞; –∫–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å –ø—Ä–µ–≤—å—é PDF¬ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ PDF:** –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –∏ —Ñ–∞–π–ª –µ—Å—Ç—å); –æ–±–ª–æ–∂–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –º–∞—Ä—à—Ä—É—Ç–æ–º, –≥–æ—Ä–æ–¥–æ–º, –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ—á–µ–∫; –∑–∞—Ç–µ–º —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã –ø–æ —Ç–æ—á–∫–∞–º —Å —Ñ–æ—Ç–æ –∏ —Ç–µ–∫—Å—Ç–æ–º (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è RU/EN –ø–æ —è–∑—ã–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –ò–º—è —Ñ–∞–π–ª–∞: `album_{route_id}_{progress_id}.pdf`.

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ç–æ

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**

- –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —è—Ä–∫–æ—Å—Ç–∏ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ –¥–ª—è —á–µ—Ç–∫–æ—Å—Ç–∏
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ä–µ–∑–∫–æ—Å—Ç–∏ –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª–µ–µ —è—Ä–∫–∏—Ö —Ü–≤–µ—Ç–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ú–∞—à–∏–Ω–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ)

**–õ–æ–∫–∞—Ü–∏—è:**

- **CLIP** (openai/clip-vit-base-patch32) ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞/—Ç–æ—á–∫–∏; –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è.
- **Fallback:** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ CLIP (–ø–∞–º—è—Ç—å, –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏) –∏–ª–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–ø–∏—Å–∞–Ω–∏—è ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ **AKAZE/ORB** (OpenCV).

<<<<<<< HEAD
**–ù–∞–ª–∏—á–∏–µ —á–µ–ª–æ–≤–µ–∫–∞:**

- **YOLOv8n ONNX** ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π –Ω–∞ —Ñ–æ—Ç–æ, –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–≤ —Ç.—á. –¥–ª—è –∑–∞–¥–∞–Ω–∏–π ¬´—Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å N –ª—é–¥—å–º–∏¬ª). –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑—ã –æ—Ç–∫–ª—é—á–µ–Ω–∞; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç –Ω–∞–ª–∏—á–∏—è —á–µ–ª–æ–≤–µ–∫–∞.
- –ú–æ–¥–µ–ª—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è shared hosting; –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Å—Å–∏—è YOLO –≤—ã–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏.

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ö–æ—Å—Ç–∏–Ω–≥:**

- # YOLO –≤ —Ñ–æ—Ä–º–∞—Ç–µ ONNX (–±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ PyTorch –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ –¥–µ—Ç–µ–∫—Ü–∏–∏ –ª—é–¥–µ–π).
  **–õ—é–¥–∏ –∏ –ø–æ–∑—ã:**
- **YOLOv8n ONNX** ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π –Ω–∞ —Ñ–æ—Ç–æ, –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–≤ —Ç.—á. –¥–ª—è –∑–∞–¥–∞–Ω–∏–π ¬´—Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å N –ª—é–¥—å–º–∏¬ª).
- **MoveNet ONNX** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑—ã (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–æ–∑–µ –Ω–∞ —Ç–æ—á–∫–µ).
- –ú–æ–¥–µ–ª–∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ, –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è shared hosting; –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Å—Å–∏—è YOLO –≤—ã–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏.

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ö–æ—Å—Ç–∏–Ω–≥:**

- MoveNet –∏ YOLO –≤ —Ñ–æ—Ä–º–∞—Ç–µ ONNX (–±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ PyTorch –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ –ø–æ–∑/–ª—é–¥–µ–π).
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- –Ø–≤–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (`gc.collect()`, –≤—ã–≥—Ä—É–∑–∫–∞ —Å–µ—Å—Å–∏–∏ YOLO, –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ ‚Äî `malloc_trim`).
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ (OPENBLAS, OMP), —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ (2 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã)

**–†–µ–∂–∏–º 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**

1. –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ (–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, EXIF, timing)

<<<<<<< HEAD
2. –ù–∞–ª–∏—á–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ (YOLOv8n ONNX)
3. –õ–æ–∫–∞—Ü–∏—è (CLIP –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ AKAZE/ORB –ø–æ —ç—Ç–∞–ª–æ–Ω–∞–º)
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ç–æ** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —è—Ä–∫–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, —Ä–µ–∑–∫–æ—Å—Ç–∏, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏
5. –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚Üí —Ñ–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∞–º —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
=======
2. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π (YOLOv8n ONNX)
3. –ü–æ–∑–∞ (MoveNet ONNX)
4. –õ–æ–∫–∞—Ü–∏—è (CLIP –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ AKAZE/ORB –ø–æ —ç—Ç–∞–ª–æ–Ω–∞–º)
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ç–æ** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —è—Ä–∫–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, —Ä–µ–∑–∫–æ—Å—Ç–∏, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏
6. –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚Üí —Ñ–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∞–º —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å"

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

**–†–µ–∂–∏–º 2: –†—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è (–¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π/–¥–µ–º–æ)**

- –í–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `/admin` ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí "–í–∫–ª—é—á–∏—Ç—å —Ä—É—á–Ω—É—é –º–æ–¥–µ—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ"
- **–í—Å–µ —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É –∏–¥—É—Ç –∞–¥–º–∏–Ω–∞–º –±–µ–∑ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–æ–∫**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ "–ü—Ä–æ–≤–µ—Ä—è—é —Ñ–æ—Ç–æ..." –±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç: —Ñ–æ—Ç–æ, –º–∞—Ä—à—Ä—É—Ç, —Ç–æ—á–∫—É, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ö–Ω–æ–ø–∫–∏: "‚úÖ –ü—Ä–∏–Ω—è—Ç—å" / "‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å"
- **–°–æ–∑–¥–∞—ë—Ç –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏** - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–æ–º (–≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö):**
<<<<<<< HEAD

- # –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç: —Ñ–æ—Ç–æ, –º–∞—Ä—à—Ä—É—Ç, —Ç–æ—á–∫—É, –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π, —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
- –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç: —Ñ–æ—Ç–æ, –º–∞—Ä—à—Ä—É—Ç, —Ç–æ—á–∫—É, –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π, –ø–æ–∑—É, —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- –ö–Ω–æ–ø–∫–∏: "‚úÖ –ü—Ä–∏–Ω—è—Ç—å" / "‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å"
- –ü—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏: —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —Ç–æ—á–∫–∞ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ
- –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ (–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫—É (–≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π:**

- YOLOv8n ONNX –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –ª—é–¥–µ–π; —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è `count >= max(1, min_people - 1)` –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ñ–æ—Ç–æ.

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è shared hosting

<<<<<<< HEAD

- # **YOLOv8n ONNX** ‚Äî –ª—ë–≥–∫–∏–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ PyTorch-–≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞–ª–∏—á–∏—è –ª—é–¥–µ–π.
- **MoveNet ONNX** –∏ **YOLOv8n ONNX** ‚Äî –ª—ë–≥–∫–∏–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ PyTorch-–≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–∑/–ª—é–¥–µ–π.
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
- **CLIP** –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ (AKAZE/ORB).
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –ø—Ä–æ–≤–µ—Ä–æ–∫, **—è–≤–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤—ã–≥—Ä—É–∑–∫–∞ —Å–µ—Å—Å–∏–∏ YOLO, `gc.collect()`, –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ ‚Äî `malloc_trim`).
- **–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤** (`OPENBLAS_NUM_THREADS=1`, `OMP_NUM_THREADS=1`).

### –í–µ–±-—Å–∞–π—Ç

- **–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- **–ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é:** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ê–≤–∞—Ç–∞—Ä:** –∫—Ä—É–≥–ª—ã–π, –±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- **SEO:** robots.txt, sitemap.xml, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (300x300px), –æ–±—Ä–µ–∑–∫–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É

<<<<<<< HEAD

### –ú–µ–Ω—é /commands –∏ edit_text

- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∏–∑ –º–µ–Ω—é `/commands` (–∏–ª–∏ `/comand`) –≤ –ª—é–±–æ–π —ç–∫—Ä–∞–Ω (–ø—Ä–æ–º–æ–∫–æ–¥, —Ç–æ–ø, –æ—Ç–∑—ã–≤, –ø–∞—Ä—Ç–Ω–µ—Ä–∫–∞ –∏ —Ç.–¥.) —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `edit_text`. Telegram API –¥–ª—è `editMessageText` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ **InlineKeyboardMarkup**; –ø–µ—Ä–µ–¥–∞—á–∞ **ReplyKeyboardMarkup** –≤—ã–∑—ã–≤–∞–µ—Ç ValidationError. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –∫–Ω–æ–ø–∫–∏ ¬´–û—Ç–º–µ–Ω–∞¬ª –≤ —Ä–µ–∂–∏–º–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –∏–∑ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `cancel_inline()` (inline-–∫–Ω–æ–ø–∫–∞ —Å callback `back_to_main`), –∞ –Ω–µ –æ–±—ã—á–Ω–∞—è reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞.

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º

- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö (—Å –ª–æ–≥–æ–º)
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ç–æ (–¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏) - –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ
- –ü—Ä–∏ –ª—é–±–æ–º —Ñ–æ—Ç–æ (–¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏) - –≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª

**–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

- –í–∫–ª—é—á–∞–µ—Ç—Å—è/–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `/admin` ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí "–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∫–∏"
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `.env` —Ñ–∞–π–ª–∞ (`REQUIRE_SUBSCRIPTION=true/false`)

**–£–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:**

- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –∫–≤–µ—Å—Ç–∞ (–∫–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç")
- **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç:** –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ, –≤—ã–±–æ—Ä –≥–æ—Ä–æ–¥–æ–≤/–º–∞—Ä—à—Ä—É—Ç–æ–≤, –∫–æ–º–∞–Ω–¥—É `/top`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑—É—á–∏—Ç—å –±–æ—Ç–∞ –∏ –≤—ã–±—Ä–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç **–¥–æ** –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –Ω–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏
- "üì¢ –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª" - –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
- "‚úÖ –Ø –ø–æ–¥–ø–∏—Å–∞–ª—Å—è" - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- –ü–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

<<<<<<< HEAD

## üîå API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–°–∞–π—Ç (–ø—É–±–ª–∏—á–Ω—ã–µ):**

- `GET /routes.php` ‚Äî —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ—Ç–∑—ã–≤–æ–≤: AVG(reviews.rating)).
- `GET /routes/view.php?id=` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞, –æ—Ç–∑—ã–≤—ã, —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥.
- `POST /auth/telegram.php` ‚Äî –≤—Ö–æ–¥ –ø–æ —Ç–æ–∫–µ–Ω—É –æ—Ç `/web` (token –≤ query –∏–ª–∏ body).
- `POST /api/upload_avatar.php` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞ (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å).
- `POST /api/update_privacy.php` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è.
- `GET /api/generate_album.php?progress_id=` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-–∞–ª—å–±–æ–º–∞ –ø–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º—É –∫–≤–µ—Å—Ç—É (—Ç–æ–ª—å–∫–æ —Å–≤–æ–π progress_id; –¥–ª—è –ø—Ä–µ–≤—å—é –∞–¥–º–∏–Ω–æ–º ‚Äî `&preview=1` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `route_id=`).

**–ê–¥–º–∏–Ω–∫–∞ (admin/api/):**

- `POST /admin/api/translate.php` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (JSON: text, from, to) –¥–ª—è –ø–æ–ª–µ–π RU/EN.
- `POST /admin/api/moderate_photo.php` ‚Äî –ø—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Ñ–æ—Ç–æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.
- `POST /admin/api/bulk_`* ‚Äî –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–º–∞—Ä—à—Ä—É—Ç—ã, —Ç–æ—á–∫–∏, —Ç–µ–≥–∏).
- `POST /admin/api/clone_route.php` ‚Äî –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞.
- `GET /admin/api/stats.php`, `get_audit_log.php`, `get_tags.php`, `get_tasks.php` –∏ –¥—Ä.

**–ë–æ—Ç ‚Üî —Å–∞–π—Ç:**

- –ë–æ—Ç —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω –≤ `user_sessions` –∏ –æ—Ç–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É `SITE_URL/auth/telegram?token=...`.
- –°–∞–π—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ—Å—Å–∏—é, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard.
- –§–æ—Ç–æ: –±–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `photos/{telegram_id}/`, —Å–∞–π—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ —Ç–æ–º—É –∂–µ –ø—É—Ç–∏.

## üñ• –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°–∞–π—Ç:**

- PHP 7.4+, MySQL 8.0, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (Apache/Nginx) –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PHP: `php -S localhost:8000`.
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env`, —É–∫–∞–∑–∞—Ç—å –ë–î –∏ BOT_USERNAME/SITE_URL.
- –ò–º–ø–æ—Ä—Ç —Å—Ö–µ–º—ã: `mysql -u user -p dbname < database/QuestGuideFR.sql`.

**–ë–æ—Ç:**

- `cd bot && python -m venv venv && source venv/bin/activate` (Windows: `venv\Scripts\activate`).
- `pip install -r requirements.txt` (–¥–ª—è CPU: `reinstall_torch_cpu.sh` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).
- –í `bot/.env` —É–∫–∞–∑–∞—Ç—å BOT_TOKEN, ADMIN_IDS, DB_*, SITE_URL, BASE_DIR (–ø—É—Ç—å –∫ –∫–æ—Ä–Ω—é –ø—Ä–æ–µ–∫—Ç–∞).
- –ó–∞–ø—É—Å–∫: `PYTHONPATH=bot python -m bot.main` –∏–∑ –∫–æ—Ä–Ω—è –∏–ª–∏ –∏–∑ `bot`: `PYTHONPATH=. python -m bot.main`.

**–°–∫—Ä–∏–ø—Ç—ã (bot/):**

- `install.sh` ‚Äî venv + pip install.
- `start.sh` ‚Äî –∑–∞–ø—É—Å–∫ –≤ screen (questbot).
- `stop.sh` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞.
- `reinstall_torch_cpu.sh` ‚Äî –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ PyTorch CPU –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö CUDA.

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

## ‚ùì FAQ

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞?

@BotFather ‚Üí `/newbot` ‚Üí —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω

### –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID?

@LeadConverterToolkitBot ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ /get_my_id ‚Üí —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID

### –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Login Widget?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_USERNAME` –≤ .env (–±–µ–∑ @)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω –≤ BotFather (Bot Settings ‚Üí Domain)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS

### –°–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ë–î?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ö–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î

### –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è?

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞
chmod 755 /var/www/html/photos
chmod -R 755 /var/www/html/photos/
```

## üìù –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:**

- `/start` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `/web` - –≤—Ö–æ–¥ –Ω–∞ —Å–∞–π—Ç —á–µ—Ä–µ–∑ Telegram Web App (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram) –∏–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- `/token` - –±–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–≤–æ–¥—ã, –ø–æ–∫—É–ø–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–π, –∏—Å—Ç–æ—Ä–∏—è)
- `/promo` - –≤–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏
- `/top` - —Ç–æ–ø-10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `/review` - –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º –º–∞—Ä—à—Ä—É—Ç–µ
<<<<<<< HEAD
- `/commands` (–∏–ª–∏ `/comand`) - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –∫–Ω–æ–ø–∫–∞–º–∏
- `/partner` - –ø–∞—Ä—Ç–Ω–µ—Ä–∫–∞ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: —Å–≤–æ—è —Å—Å—ã–ª–∫–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≥—Ä–æ—à–∏ –∑–∞ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö)
- # `/become_creator` - –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–æ–ª—å —Å–æ–∑–¥–∞—Ç–µ–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞)
  > > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

**–ê–¥–º–∏–Ω—Å–∫–∏–µ:**

- `/admin` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏, –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, —Ç–æ—á–∫–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏, —Ç–µ–≥–∞–º–∏, –∞—É–¥–∏–æ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏)
- `/web` - –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

<<<<<<< HEAD

### ‚≠ê –û–ø–ª–∞—Ç–∞ Telegram Stars

**–ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å:**

1. –í [@BotFather](https://t.me/BotFather) –æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ ‚Üí **Bot Settings** ‚Üí **Payments**.
2. –í—ã–±–µ—Ä–∏—Ç–µ **Telegram Stars** (–∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –≤–∞—à–µ–º —Ä–µ–≥–∏–æ–Ω–µ).
3. Stars –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: –≤ –∫–æ–¥–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞–ª—é—Ç–∞ `XTR` –∏ –ø—É—Å—Ç–æ–π `provider_token` –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ë–∞–Ω–∫¬ª (`/token` ‚Üí –ü–æ–ø–æ–ª–Ω–∏—Ç—å ‚Üí Telegram Stars).

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `/token` ‚Üí –ü–æ–ø–æ–ª–Ω–∏—Ç—å ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å—É–º–º—É ‚Üí **‚≠ê Telegram Stars** ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å.
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –∏–Ω–≤–æ–π—Å –≤ Stars; –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –±–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–∏—Ç—Å—è, –≤ –ª–æ–≥–∞—Ö –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø—Ä–∏ `send_invoice` –∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ `successful_payment` (payload `token_deposit_stars:...`).
- –ï—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ ¬´ProviderToken parameter can't be empty¬ª ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ aiogram –¥–æ –≤–µ—Ä—Å–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–π Stars (XTR —Å –ø—É—Å—Ç—ã–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º).
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `payments.py` ‚Äî `process_pre_checkout_query` (answer ok=True), `process_successful_payment` (–≤–µ—Ç–∫–∞ `token_deposit_stars`); –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Stars –≤ `bank.py` (callback `bank:deposit:stars`, –∑–∞—Ç–µ–º `bank:confirm_deposit` —Å method=stars).

=======

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c
> > > > > > >
> > > > > > >
> > > > > > > | –ü—Ä–æ–±–ª–µ–º–∞                    | –†–µ—à–µ–Ω–∏–µ                                               |
> > > > > > > | --------------------------- | ----------------------------------------------------- |
> > > > > > > | –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è          | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env, –ª–æ–≥–∏, —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π          |
> > > > > > > | –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è         | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env, –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã, PHP 7.4+              |
> > > > > > > | Login –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç           | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω –≤ BotFather, HTTPS             |
> > > > > > > | –ë–î –æ—à–∏–±–∫–∞                   | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∏–º–ø–æ—Ä—Ç —Å—Ö–µ–º—ã            |
> > > > > > > | –§–æ—Ç–æ –Ω–µ –≤–∏–¥–Ω—ã               | –ü—Ä–∞–≤–∞ 755 –Ω–∞ photos/, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏ –≤ –ë–î             |
> > > > > > > | –ë–æ—Ç –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ñ–æ—Ç–æ         | –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∞–º |
> > > > > > > | –ê–¥–º–∏–Ω –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å —Ñ–æ—Ç–æ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: photo_file_id –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è                |
> > > > > > >

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏: PDO + SQLAlchemy ORM
- ‚úÖ XSS: htmlspecialchars() –≤–µ–∑–¥–µ
- ‚úÖ –ê–Ω—Ç–∏—Ñ—Ä–æ–¥: —Ö–µ—à–∏ —Ñ–æ—Ç–æ, timing, EXIF
- ‚úÖ –¢–æ–∫–µ–Ω—ã: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ, —Å—Ä–æ–∫ 5 –º–∏–Ω—É—Ç
- ‚úÖ –°–µ—Å—Å–∏–∏: 90 –¥–Ω–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ API Secret: –∑–∞—â–∏—Ç–∞ API endpoints
- ‚úÖ .htaccess: –∑–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤
- ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏: –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–±—Ö–æ–¥–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ç–æ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

**–ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤:**

- –ú–∞—Ä—à—Ä—É—Ç—ã –ø–æ–∫—É–ø–∞—é—Ç—Å—è –∑–∞ **—Ç–æ–∫–µ–Ω—ã** (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞). –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: **–ÆKassa** (–∫–∞—Ä—Ç–∞) –∏–ª–∏ **Telegram Stars**.
- –ö–æ–º–∞–Ω–¥–∞ `/token`: –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, –ø–µ—Ä–µ–≤–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –ø–æ–∫—É–ø–∫–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏, –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.
- –ù–∞ —Å–∞–π—Ç–µ: –≤–∫–ª–∞–¥–∫–∞ ¬´–ë–∞–Ω–∫¬ª ‚Äî –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –ø–æ–∫—É–ø–æ–∫. –í –∞–¥–º–∏–Ω–∫–µ: —Ä–∞–∑–¥–µ–ª ¬´–ë–∞–Ω–∫ —Ç–æ–∫–µ–Ω–æ–≤¬ª ‚Äî –±–∞–ª–∞–Ω—Å—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ä—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ.

**–ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Å–∫–∏–¥–∫–∏:**

- **–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å–∫–∏–¥–∫–∞** - –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–∏–¥–∫–∞ 20% –Ω–∞ –ª—é–±–æ–π –º–∞—Ä—à—Ä—É—Ç
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞** - –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–∏–¥–∫–∞ 100‚ÇΩ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç** - –ø—Ä–æ–º–æ–∫–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Å—Ä–æ–∫–∞–º –¥–µ–π—Å—Ç–≤–∏—è (valid_from, valid_until)
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏:**

- **–í Telegram –±–æ—Ç–µ:** `/admin` ‚Üí –ü—Ä–æ–º–æ–∫–æ–¥—ã ‚Üí —Å–æ–∑–¥–∞—Ç—å/–ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å
- **–í –≤–µ–±-–∞–¥–º–∏–Ω–∫–µ:** `/admin/promo_codes/` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º
- **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** `/promo` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥" –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–∞—Ä—à—Ä—É—Ç–∞

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π:**

1. **–ÆKassa:** –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ yookassa.ru, –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è Telegram Payments, –¥–æ–±–∞–≤–∏—Ç—å –≤ bot/.env: `PAYMENT_PROVIDER_TOKEN=...`

<<<<<<< HEAD
2. **Telegram Stars:** –≤–∫–ª—é—á–∏—Ç—å –≤ BotFather –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ Stars –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –±–æ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥

- –ú–µ–Ω—é –∫–æ–º–∞–Ω–¥ Telegram (—Å–ª–µ–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞) –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è:
  - **–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º:** start, web, token, promo, top, review, commands, partner, become_creator
  - **–ö–≤–µ—Å—Ç-—Ä–µ–∂–∏–º:** hint (–ø–æ–¥—Å–∫–∞–∑–∫–∞), restart_point (–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É), cancel_quest (–≤—ã–π—Ç–∏)
- –ü—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ (RU/EN) –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BotCommandScopeChat` ‚Äî —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã
- –ö–æ–º–∞–Ω–¥–∞ `/restart_point` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏ (–µ—Å–ª–∏ –±–æ—Ç –∑–∞–≤–∏—Å –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∫–≤–µ—Å—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏)
- –ö–æ–º–∞–Ω–¥–∞ `/hint` ‚Äî –≤—ã–∑–æ–≤ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä—è–º–æ –∏–∑ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥

### –ö–≤–∏–∑ –ø–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞

- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø—Ä–æ–π—Ç–∏ –∫–≤–∏–∑ (5‚Äì10 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º—É –º–∞—Ç–µ—Ä–∏–∞–ª—É)
- –í–æ–ø—Ä–æ—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–¥–º–∏–Ω–æ–º –≤—Ä—É—á–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞: 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞ (A/B/C/D), –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
- –ó–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –≥—Ä–æ—à–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è: `quiz_reward_per_correct`)
- –ù–∞–≥—Ä–∞–¥–∞ —Ç–æ–ª—å–∫–æ –∑–∞ –ø–µ—Ä–≤—É—é –ø–æ–ø—ã—Ç–∫—É (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ `progress_id`, UNIQUE)
- –ê–¥–º–∏–Ω–∫–∞: `/admin/quiz/index.php` ‚Äî CRUD –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º (RU/EN)

### –û–ø—Ä–æ—Å –ø–æ—Å–ª–µ –∫–≤–∏–∑–∞

- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤):
  1. –û—Ü–µ–Ω–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å (1‚Äì5)
  2. –û—Ü–µ–Ω–∏—Ç–µ —É–¥–æ–±—Å—Ç–≤–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (1‚Äì5)
  3. –ß—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ? (—Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç)
  4. –ë—ã–ª–∏ –ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã?
  5. –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å? (—Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ (`survey_reward_amount`), 1 —Ä–∞–∑ –∑–∞ –∫–≤–µ—Å—Ç
- –¢–µ–∫—Å—Ç—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ RU –∏ EN
- –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∞–º –≤ Telegram

### –ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

- –ó–∞–¥–∞–Ω–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ ¬´–±–æ–Ω—É—Å–Ω—ã–µ¬ª (`is_bonus`) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ—á–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ
- –ó–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–æ–Ω—É—Å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–≥—Ä–∞–¥–∞ –≤ –≥—Ä–æ—à–∞—Ö (`bonus_reward`)
- –ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–Ω–æ–ø–∫–æ–π ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª
- –í—Å–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –ª–∏–º–∏—Ç–µ –∑–∞—Ä–∞–±–æ—Ç–∫–∞

### –õ–∏–º–∏—Ç –∑–∞—Ä–∞–±–æ—Ç–∫–∞ —Å –∫–≤–µ—Å—Ç–∞

- –£ –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è `max_earnings` ‚Äî –º–∞–∫—Å–∏–º—É–º –≥—Ä–æ—à–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ –æ–¥–Ω–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
- –õ–∏–º–∏—Ç —Å—É–º–º–∏—Ä—É–µ—Ç: –±–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è + –∫–≤–∏–∑ + –æ–ø—Ä–æ—Å + –æ—Ç–∑—ã–≤
- `NULL` = –±–µ–∑ –ª–∏–º–∏—Ç–∞
- –¢–µ–∫—É—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –≤ `user_progress.total_earned`
- –•–µ–ª–ø–µ—Ä `award_quest_earnings()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –æ–±—Ä–µ–∑–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—É –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

- `/admin/earnings/index.php` ‚Äî –µ–¥–∏–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏:
  - –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –æ—Ç–∑—ã–≤ (–≤–∫–ª/–≤—ã–∫–ª, —Å—É–º–º–∞)
  - –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –æ–ø—Ä–æ—Å (–≤–∫–ª/–≤—ã–∫–ª, —Å—É–º–º–∞)
  - –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –∫–≤–∏–∑–µ
  - –õ–∏–º–∏—Ç –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É
  - –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏: —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –ø—Ä–æ–º–æ–∫–æ–¥—ã, –∫–≤–∏–∑—ã, –æ—Ç–∑—ã–≤—ã

### –§–∏–∫—Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏

- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ü—Ä–∏–Ω—è—Ç—å¬ª –∏–ª–∏ ¬´–û—Ç–∫–ª–æ–Ω–∏—Ç—å¬ª –∫–Ω–æ–ø–∫–∏ —Å—Ä–∞–∑—É —É–±–∏—Ä–∞—é—Ç—Å—è —É –≤—Å–µ—Ö –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –í –ë–î –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `user_photos.moderation_status` (pending/approved/rejected)
- –ï—Å–ª–∏ —Ñ–æ—Ç–æ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –¥—Ä—É–≥–∏–º –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–§–æ—Ç–æ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ¬ª
- –ò—Å–∫–ª—é—á–µ–Ω–∞ –¥–≤–æ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ç–æ

### –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

- –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥—è—Ç –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:
  1. ¬´–í–∞—à–µ —Ñ–æ—Ç–æ –ø—Ä–∏–Ω—è—Ç–æ! –¢–æ—á–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞.¬ª
  2. –ü–æ–ª–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–∏ (directions + —Ñ–∞–∫—Ç + –∑–∞–¥–∞–Ω–∏–µ + –∫–Ω–æ–ø–∫–∞ ¬´–Ø –Ω–∞ –º–µ—Å—Ç–µ¬ª)
- –†–∞–Ω—å—à–µ –∑–∞–¥–∞–Ω–∏–µ –æ–±—Ä–µ–∑–∞–ª–æ—Å—å –≤ –æ–¥–Ω–æ–º –¥–ª–∏–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/admin/users/list.php`) –∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–≥—Ä–µ—Å—Å¬ª —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/admin/users/progress.php` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è–º–∏:
  - –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é/–ø—Ä–µ–¥—ã–¥—É—â—É—é —Ç–æ—á–∫—É
  - –í—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–æ—á–∫—É –∏–∑ —Å–ø–∏—Å–∫–∞
  - –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (–Ω–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞)
  - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç –≤—Ä—É—á–Ω—É—é
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (—Ñ–µ–≤—Ä–∞–ª—å 2025)

- **–î–æ—Å—Ç—É–ø –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥—É = –∫–∞–∫ –æ–ø–ª–∞—Ç–∞:** –º–∞—Ä—à—Ä—É—Ç, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥–æ–º —Ç–∏–ø–∞ ¬´–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç¬ª (free_route), —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–ø–ª–∞—á–µ–Ω–Ω—ã–º: –≤–µ–∑–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª, –∞ –Ω–µ ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª; –≥—Ä–æ—à–∏ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —É—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã `promo_code_uses` –≤ `PaymentRepository.has_paid_for_route()` –Ω–∞—Ä—è–¥—É —Å —É—Å–ø–µ—à–Ω—ã–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏.
- **–°—Ü–µ–Ω–∞—Ä–∏–π A ‚Äî –≤–≤–æ–¥ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é:** `/promo` ‚Üí –º–µ–Ω—é ¬´–ü—Ä–æ–º–æ–∫–æ–¥—ã¬ª (–∫–Ω–æ–ø–∫–∏ ¬´–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥¬ª, ¬´–ú–æ–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏¬ª) ‚Üí ¬´–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥¬ª ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–¥. –ï—Å–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É –∏ —Ç–∏–ø free_route ‚Äî –±–æ—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–¥, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `promo_code_uses`, –∑–∞—Ç–µ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª (–±–µ–∑ ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª).
- **–°—Ü–µ–Ω–∞—Ä–∏–π B ‚Äî –≤–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∞:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–ª –º–∞—Ä—à—Ä—É—Ç ‚Üí ¬´–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥¬ª ‚Üí –≤–≤–æ–¥ –∫–æ–¥–∞. –ï—Å–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ —ç—Ç–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É –∏ —Ç–∏–ø free_route ‚Äî –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–∞—Ä—à—Ä—É—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: –∫–Ω–æ–ø–∫–∞ ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ ¬´–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç¬ª.
- **–ú–æ–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:** –≤ –º–µ–Ω—é `/promo` –∫–Ω–æ–ø–∫–∞ ¬´–ú–æ–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏¬ª –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º (–Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞, –∫–æ–¥, –¥–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è). –î–∞–Ω–Ω—ã–µ –∏–∑ `promo_code_uses` + `promo_codes` + `routes`.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ø—Ä–∏ –≤–≤–æ–¥–µ –∏–∑ –º–µ–Ω—é (–±–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞) –ø—Ä–æ–º–æ–∫–æ–¥, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –º–∞—Ä—à—Ä—É—Ç—É, —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞; –ø—Ä–∏ –≤–≤–æ–¥–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –¥—Ä—É–≥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º –∫ —ç—Ç–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É¬ª. –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö: —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, –∏—Å—Ç—ë–∫, –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî —á–µ—Ä–µ–∑ i18n.
- **–ö–æ–¥:** `bot/repositories/payment.py` (has_paid_for_route), `bot/repositories/promo_code.py` (validate –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ route_id, get_uses_by_user), `bot/routers/payments.py` (free_route ‚Üí —Å—Ä–∞–∑—É –¥–æ—Å—Ç—É–ø, –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –æ–ø–ª–∞—Ç—É), `bot/routers/user.py` (–º–µ–Ω—é /promo, promo:menu, promo:enter, promo:my_list), `bot/keyboards/user.py` (promo_menu, promo_my_list_back), i18n (promo_menu_title, promo_route_activated_free, promo_my_activations_* –∏ –¥—Ä.).

---

**–†–µ–π—Ç–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–æ–≤:** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (`routes.php`) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ (AVG(reviews.rating), reviews.is_approved=1, is_hidden=0). –§–æ—Ä–º–∞—Ç: ‚≠ê 4.5/5.

**–û—Ç–∑—ã–≤ –ø–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞:** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ ¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤¬ª (–≤–µ–¥—ë—Ç –∫ —Ñ–æ—Ä–º–µ –æ—Ü–µ–Ω–∫–∏ 1‚Äì5 –∏ —Ç–µ–∫—Å—Ç—É –ø–æ —ç—Ç–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É) –∏ ¬´–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª. –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞: `UserKeyboards.quest_completed(progress_id, lang)`; –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∑—ã–≤–∞: `review:select:{progress_id}` –≤ `bot/routers/reviews.py`.

# **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–¥ –º–∞—Ä—à—Ä—É—Ç:** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –≥—Ä–æ—à–µ–π –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ `BankKeyboards.topup_for_route(needed, route_id, lang)`; –ø–æ –Ω–∞–∂–∞—Ç–∏—é ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å¬ª –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `cb_topup_for_route`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π —Å—É–º–º–æ–π `needed` (—Å—Ç–æ–∏–º–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ –º–∏–Ω—É—Å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å) —á–µ—Ä–µ–∑ `BankKeyboards.deposit_amounts_with_recommended`.

1. **Telegram Stars:** –≤–∫–ª—é—á–∏—Ç—å –≤ BotFather –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ Stars –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –±–æ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

> > > > > > > 2ed20ce8af442d6700b46589978e78c41bb0322c

